CREATE TABLE `escola_db`.`permissoes` (
    `id` INT(5) NOT NULL , 
    `nome` varchar(15) NOT NULL ,
    PRIMARY KEY (`id`)
)

CREATE TABLE `escola_db`.`usuarios` (
    `ra` INT(10) NOT NULL , 
    `idPermissao` INT(5) NOT NULL , 
    `nome` VARCHAR(15) NOT NULL , 
    `sexo` int(1) NOT NULL ,
    `CPF` VARCHAR(14),
    `dataNasc` date,
    `email` varchar(30),
    `senha` varchar(30),
    PRIMARY KEY (`ra`),
    FOREIGN KEY (`idPermissao`) REFERENCES permissoes(id)
)

CREATE TABLE `escola_db`.`cursos` (
    `cod` INT(5) NOT NULL , 
    `nomeCurso` varchar(30) NOT NULL,
    PRIMARY KEY (`cod`)
)

CREATE TABLE `escola_db`.`materias` (
    `cod` INT(5) NOT NULL , 
    `codCurso` INT(5) NOT NULL , 
    `nomeMateria` varchar(30) NOT NULL,
    `nota` int(3) default null,
    PRIMARY KEY (`cod`),
    FOREIGN KEY (`codCurso`) REFERENCES cursos(cod)
)

CREATE TABLE `escola_db`.`matriculas` (
    `cod` INT(10) NOT NULL , 
    `raAluno` INT(10) NOT NULL , 
    `codMaterial` INT(5) NOT NULL , 
    `status` varchar(15) DEFAULT null ,
    PRIMARY KEY (`cod`),
    FOREIGN KEY (`raAluno`) REFERENCES usuarios(ra),
    FOREIGN KEY (`codMaterial`) REFERENCES materias(cod)
)

CREATE TABLE `escola_db`.`turmas` (
    `cod` INT(10) NOT NULL , 
    `materia` INT(5) NOT NULL , 
    `raAluno` INT(10) NOT NULL , 
    `idProfessor` INT(10) NOT NULL ,
    `nomeSala` varchar(15) DEFAULT null ,
    `data_hora` date DEFAULT null ,
    `status` varchar(15) DEFAULT null ,
    PRIMARY KEY (`cod`),
    FOREIGN KEY (`materia`) REFERENCES materias(cod),
    FOREIGN KEY (`raAluno`) REFERENCES usuarios(ra),
    FOREIGN KEY (`idProfessor`) REFERENCES usuarios(ra)
)